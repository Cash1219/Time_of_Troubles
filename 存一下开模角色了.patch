Subject: [PATCH] 存一下开模角色了
---
Index: common/country_definitions/tot_countries.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/common/country_definitions/tot_countries.txt b/common/country_definitions/tot_countries.txt
--- a/common/country_definitions/tot_countries.txt	(revision 5c996815229d408463426ce79817d37ded906ab8)
+++ b/common/country_definitions/tot_countries.txt	(revision 839ae682b1e2c4f465fd40914bf6ecfe6e2278c0)
@@ -373,4 +373,37 @@
 	cultures = { british scottish }
 	
 	capital = STATE_HOME_COUNTIES
+}
+YUZ = { #柚子社
+	color = hsv{ 0.99  0.7  0.9 }
+
+	country_type = recognized
+
+	tier = empire	
+	
+	cultures = { british scottish }
+	
+	capital = STATE_HOME_COUNTIES
+}
+KRR = { #芳文社
+	color = hsv{ 0.99  0.7  0.9 }
+
+	country_type = recognized
+
+	tier = empire	
+	
+	cultures = { british scottish }
+	
+	capital = STATE_HOME_COUNTIES
+}
+GEM = { #游戏王国
+	color = hsv{ 0.99  0.7  0.9 }
+
+	country_type = recognized
+
+	tier = empire	
+	
+	cultures = { british scottish }
+	
+	capital = STATE_HOME_COUNTIES
 }
\ No newline at end of file
Index: common/religions/tot_religion.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/common/religions/tot_religion.txt b/common/religions/tot_religion.txt
--- a/common/religions/tot_religion.txt	(revision 5c996815229d408463426ce79817d37ded906ab8)
+++ b/common/religions/tot_religion.txt	(revision 839ae682b1e2c4f465fd40914bf6ecfe6e2278c0)
@@ -50,4 +50,14 @@
 	#}
 	heritage = heritage_christian
 	color = { 0.8 0.55 0.2 }
+}
+gaming = { #游戏之神
+	icon = "gfx/interface/icons/religion_icons/sange.dds"
+	#traits = {
+	#	religion_tarit_gakuen #贤者
+	#	religion_tarit_jinbun #人文
+	#	religion_tarit_senkyou #布道
+	#}
+	heritage = heritage_christian
+	color = { 0.8 0.55 0.2 }
 }
\ No newline at end of file
Index: gui/shared/character.gui
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/gui/shared/character.gui b/gui/shared/character.gui
new file mode 100644
--- /dev/null	(revision 839ae682b1e2c4f465fd40914bf6ecfe6e2278c0)
+++ b/gui/shared/character.gui	(revision 839ae682b1e2c4f465fd40914bf6ecfe6e2278c0)
@@ -0,0 +1,947 @@
+types character_types {
+	type character_icon = widget {
+		parentanchor = bottom|left
+		
+		block "icon_size" {			
+			size = { 30 30 }
+		}
+
+		# commander order
+		block "commander_order_icon" {
+			icon = {
+				size = { 100% 100% }
+				visible = "[And(And(Character.GetOrderType.IsValid, Or(And( Character.IsAdmiral, Not( Character.IsDefeated )), Character.IsGeneral)), Not(Character.GetNextOrderType.IsValid))]"
+				texture = "[Character.GetOrderType.GetTexture]"
+				tooltip = "[Character.GetOrderType.GetDesc]"
+			}
+
+			icon = {
+				size = { 100% 100% }
+				visible = "[And(And(Character.GetOrderType.IsValid, Or(And( Character.IsAdmiral, Not( Character.IsDefeated )), Character.IsGeneral)), Character.GetNextOrderType.IsValid)]"
+				texture = "[Character.GetNextOrderType.GetTexture]"
+				tooltip = "[Character.GetNextOrderType.GetDesc]"
+			}
+		}
+
+		# admiral repairing icon
+		icon = {
+			size = { 100% 100% }
+			visible = "[And( Character.IsAdmiral, Character.IsDefeated )]"
+			texture = "[Character.GetRepairingTexture]"
+			tooltip = "ADMIRAL_REPAIRING_DATE_TOOLTIP"
+		}
+		
+		# role icon (turned off by default)
+		flowcontainer = {
+			block "show_role_icon" {
+				visible = no
+			}
+			
+			icon = {
+				size = { 100% 100% }
+				texture = "gfx/interface/icons/character_role_icons/admiral.dds"
+				visible = "[Character.IsAdmiral]"            
+			}
+			
+			icon = {
+				size = { 100% 100% }
+				texture = "gfx/interface/icons/character_role_icons/general.dds"
+				visible = "[Character.IsGeneral]"            
+			}
+			
+			icon = {
+				size = { 100% 100% }
+				texture = "gfx/interface/icons/character_role_icons/politician.dds"
+				visible = "[And(Character.IsPolitician,And(Not(Character.IsRuler),Not(Character.IsHeir)))]"            
+			}
+			
+			icon = {
+				size = { 100% 100% }
+				texture = "gfx/interface/icons/character_role_icons/ruler.dds"
+				visible = "[Character.IsRuler]"            
+			}
+
+			icon = {
+				size = { 100% 100% }
+				texture = "gfx/interface/icons/character_role_icons/heir.dds"
+				visible = "[Character.IsHeir]"            
+			}
+		}
+	}
+
+	type character_ig_icon = ig_icon {
+		datacontext = "[Character.GetInterestGroup]"
+	}
+	
+	type character_ig_button = ig_button {
+		block "interestgroup_datacontext" {
+			datacontext = "[Character.AccessInterestGroup]"
+		}
+
+		blockoverride "tooltip" {
+			tooltipwidget = {
+			 	FancyTooltip_IG = {}
+			}
+		}
+	}
+
+	### CHARACTER PORTRAIT BASE
+	type character_portrait_base = widget {
+		block "show_hat" {
+			scissor = yes
+		}
+
+		block "portrait_frame" {}
+		
+		portrait_button = {
+			parentanchor = bottom|hcenter
+			
+			block "portrait_position" {}
+			
+			block "portrait_size" {
+				size = { 80 100 }
+			}
+			
+			using = portrait_base
+			
+			block "portrait_texture" {
+				portrait_texture = "[Character.GetPortrait('environment_standard', 'camera_head', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+			}
+			
+			block "portrait_mask" {
+				mask = "gfx/interface/portraits/portrait_mask_default.dds"
+			}
+			
+			block "highlight" {
+				effectname = "NoHighlight"
+			}
+
+			block "portrait_button" {
+				button = {
+					size = { 100% 100% }
+
+					block "portrait_button_onclick" {
+						onclick = "[InformationPanelBar.OpenCommanderPanel(Character.AccessSelf)]"
+					}
+
+					block "portrait_button_onrightclick" {
+						onrightclick = "[RightClickMenuManager.ShowForCharacter(Character.AccessSelf)]"
+					}
+
+					block "character_highlight" {
+						onmousehierarchyenter = "[AccessHighlightManager.HighlightCharacter( Character.Self )]"
+						onmousehierarchyleave = "[AccessHighlightManager.RemoveHighlight]"
+					}
+				}
+			}
+		}
+
+		block "portrait_frame_on_top_of_portrait" {}
+
+		block "portrait_icons" {
+			character_icon = {}
+		}
+
+		block "tooltip" {
+			tooltipwidget = {
+				FancyTooltip_Character = {}
+			}
+		}
+	}
+
+	### CHARACTER PORTRAIT BASE WITHOUT MASK
+	type character_portrait_base_no_mask = widget {
+		block "show_hat" {
+			scissor = yes
+		}
+		block "portrait_frame" {}
+		
+		portrait_button = {
+			parentanchor = bottom|hcenter
+			
+			block "portrait_position" {}
+			
+			block "portrait_size" {
+				size = { 80 100 }
+			}
+			
+			using = portrait_base
+			
+			block "portrait_texture" {
+				portrait_texture = "[Character.GetPortrait('environment_front_generals_right', 'camera_head', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+			}
+			
+			block "portrait_mask" {
+				mask = "gfx/interface/portraits/portrait_mask_no_fade_bottom.dds"
+			}
+			
+			block "portrait_onhover_highlight" {
+				effectname = "NoHighlight"
+			}
+
+			block "portrait_button" {}
+		}
+
+		block "portrait_icons" {
+			character_icon = {}
+		}
+
+		block "tooltip" {
+			tooltipwidget = {
+				FancyTooltip_Character = {}
+			}
+		}
+	}
+
+	### NOTE: ALL PORTRAIT WIDGETS ARE SMALLER IN HEIGHT BECAUSE IT CUTS HIGH HATS. USE BLOCKOVERRIDE (show_hat) TO SHOW HAT WHERE IT DOES NOT COVER ANY INFO ABOVE THE PORTRAIT.
+	### ( this is because we do not want high hats to take up a big space in the layouts so that the rest of the portrait (face/body) becomes really small )
+	
+	### TORSO BASE
+	type character_portrait_base_torso = character_portrait_base {
+		blockoverride "portrait_texture" {
+			portrait_texture = "[Character.GetAnimatedPortrait('characters_portrait_environment', 'camera_torso', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+		}
+		blockoverride "portrait_mask" {
+			mask = "gfx/interface/portraits/portrait_frame_torso_mask.dds"
+		}
+	}
+	
+	### TORSO SIZES
+	
+	#240x320
+	type character_portrait_xl_torso = character_portrait_base_torso {
+		size = { 290 320 } #+50 +28 (space for frame)
+		blockoverride "portrait_position" {
+			position = { 0 -28 }
+		}
+		blockoverride "portrait_frame" {
+			icon = {
+				visible="[Not(Character.IsHistorical)]"
+				texture = "gfx/interface/portraits/portrait_frame_torso.dds"
+				size = { 100% 320 }
+				parentanchor = bottom|hcenter
+
+				using = naval_commander_color
+			}
+			
+			icon = {
+				visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_info_link.dds"
+				size = { 100% 320 }
+				parentanchor = bottom|hcenter
+
+				using = naval_commander_color
+			}
+
+			icon = {
+				visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_no_info_link.dds"
+				size = { 100% 320 }
+				parentanchor = bottom|hcenter
+
+				using = naval_commander_color
+			}
+		}
+
+		blockoverride "portrait_frame_on_top_of_portrait" {
+			icon = {
+				visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_laurel_info_link.dds"
+				size = { 100% 320 }
+				parentanchor = bottom|hcenter
+			}
+
+			icon = {
+				visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_laurel_no_info_link.dds"
+				size = { 100% 320 }
+				parentanchor = bottom|hcenter
+			}
+		}
+
+		blockoverride "portrait_size" {
+			size = { 240 352 } #+32 (extra space for high hats)
+		}
+	}
+	
+	#180x240
+	type character_portrait_large_torso = character_portrait_base_torso {
+		size = { 217 261 } #+37 +21 (space for frame)
+		blockoverride "portrait_position" {
+			position = { 0 -21 }
+		}
+		blockoverride "portrait_frame" {
+			icon = {
+				visible="[Not(Character.IsHistorical)]"
+				texture = "gfx/interface/portraits/portrait_frame_torso.dds"
+				size = { 100% 240 }
+				parentanchor = bottom|hcenter
+
+				using = naval_commander_color
+			}
+
+			icon = {
+				visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_info_link.dds"
+				size = { 100% 240 }
+				parentanchor = bottom|hcenter
+
+				using = naval_commander_color
+			}
+
+			icon = {
+				visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_no_info_link.dds"
+				size = { 100% 240 }
+				parentanchor = bottom|hcenter
+
+				using = naval_commander_color
+			}
+		}
+		blockoverride "portrait_frame_on_top_of_portrait" {
+			icon = {
+				visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_laurel_info_link.dds"
+				size = { 100% 240 }
+				parentanchor = bottom|hcenter
+			}
+
+			icon = {
+				visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+				texture = "gfx/interface/portraits/portrait_frame_torso_historical_laurel_no_info_link.dds"
+				size = { 100% 240 }
+				parentanchor = bottom|hcenter
+			}
+		}
+		blockoverride "portrait_size" {
+			size = { 180 250 } #+24 (extra space for high hats)
+		}
+	}
+	
+	#120x160
+	type character_portrait_medium_torso = character_portrait_base_torso {
+		size = { 145 174 } #+25 +14 (space for frame)
+		blockoverride "portrait_position" {
+			position = { 0 -14 }
+		}
+		blockoverride "portrait_frame" {
+			block "medium_torso_portrait_frame" {
+				icon = {
+					visible="[Not(Character.IsHistorical)]"
+					texture = "gfx/interface/portraits/portrait_frame_torso.dds"
+					size = { 100% 160 }
+					parentanchor = bottom|hcenter
+
+					using = naval_commander_color
+				}
+
+				icon = {
+					visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+					texture = "gfx/interface/portraits/portrait_frame_torso_historical_info_link.dds"
+					size = { 100% 160 }
+					parentanchor = bottom|hcenter
+
+					using = naval_commander_color
+				}
+
+				icon = {
+					visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+					texture = "gfx/interface/portraits/portrait_frame_torso_historical_no_info_link.dds"
+					size = { 100% 160 }
+					parentanchor = bottom|hcenter
+
+					using = naval_commander_color
+				}
+			}
+		}
+
+		blockoverride "portrait_frame_on_top_of_portrait" {
+			block "medium_torso_portrait_frame_on_top_of_portrait" {
+				icon = {
+					visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+					texture = "gfx/interface/portraits/portrait_frame_torso_historical_laurel_info_link.dds"
+					size = { 100% 160 }
+					parentanchor = bottom|hcenter
+				}
+
+				icon = {
+					visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+					texture = "gfx/interface/portraits/portrait_frame_torso_historical_laurel_no_info_link.dds"
+					size = { 100% 160 }
+					parentanchor = bottom|hcenter
+				}
+			}
+		}
+
+		blockoverride "portrait_size" {
+			block "medium_torso_portrait_size"
+			{
+				size = { 120 176 } #+16 (extra space for high hats)
+			}
+		}
+	}
+	
+	### HEAD ( use for smaller areas in the UI, where torso does not fit )
+	
+	### HEAD BASE
+	type character_portrait_base_head = character_portrait_base {
+		alpha = "[TransparentIfTrue(Character.IsDefeated)]"
+
+		blockoverride "portrait_mask" {
+			mask = "gfx/interface/portraits/portrait_frame_head_mask.dds"
+		}
+
+		blockoverride "portrait_frame" {
+			icon = {
+				visible = "[Not(Character.IsHistorical)]"
+				size = { 100% 100% }
+				using = generic_highlight
+				using = naval_commander_color
+
+				block "frame_texture_generated" {
+					texture = "gfx/interface/portraits/portrait_frame_head.dds"
+				}
+			}
+
+			icon = {
+				visible = "[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+				size = { 100% 100% }
+				using = generic_highlight
+				using = naval_commander_color
+
+				block "frame_texture_historical" {
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_info_link.dds"
+				}
+			}
+
+			icon = {
+				visible = "[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+				size = { 100% 100% }
+				using = generic_highlight
+				using = naval_commander_color
+
+				block "frame_texture_historical" {
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_no_info_link.dds"
+				}
+			}
+		}
+
+ 		blockoverride "portrait_frame_on_top_of_portrait" {
+			block "laurel" {
+				icon = {
+					visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_laurel_info_link.dds"
+					size = { 100% 100% }
+					parentanchor = bottom|hcenter
+				}
+
+				icon = {
+					visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_laurel_no_info_link.dds"
+					size = { 100% 100% }
+					parentanchor = bottom|hcenter
+				}
+			}
+		}
+
+		block "rank_icon" {
+			rank_icon = {
+				visible = "[Character.IsCommander]"
+				parentanchor = bottom|right
+				position = { -2 0 }
+			}
+		}
+	}
+	
+	### ADD CHARACTER BUTTON
+	type add_character_button = button {
+		size = { 100 100 }
+		texture = "gfx/interface/portraits/portrait_frame_head.dds"
+		using = tooltip_above
+
+		block "tooltip" {}
+		
+		### Made into a button to get the onhover highlight a button have on the icon too
+		button = {
+			size = { 50% 50% }
+			texture = "gfx/interface/buttons/button_icons/plus.dds"
+			parentanchor = center
+			block "onclick" {}
+		}
+
+		block "onclick" {}
+	}
+
+	type add_character_button_long = button {
+		using = default_button
+		size = { 155 35 }
+		block "onclick" {}
+
+		icon = {
+			position = { 5 0 }
+			parentanchor = vcenter
+			size = { 25 25 }
+			texture = "gfx/interface/buttons/button_icons/plus.dds"
+		}
+
+		textbox = {
+			position = { 32 0 }
+			max_width = 115
+			autoresize = yes
+			fontsize_min = 14
+			elide = right
+			align = nobaseline
+			parentanchor = vcenter
+			block "recruit_character_text" {
+				text = "RECRUIT_GENERAL_BUTTON"
+			}
+		}
+	}
+
+	### HEAD SIZES
+	type character_portrait_large = character_portrait_base_head {
+		size = { 110 110 }
+		blockoverride "portrait_size" {
+			size = { 110 120 }
+		}
+		blockoverride "icon_size" {
+			size = { 38 38 }
+		}
+	}
+	
+	type character_portrait_medium = character_portrait_base_head {
+		size = { 80 80 }
+		blockoverride "portrait_size" {
+			size = { 80 88 }
+		}
+		blockoverride "icon_size" {
+			size = { 30 30 }
+		}
+
+		blockoverride "rank_icon" {
+			rank_icon = {
+				visible = "[Character.IsCommander]"
+				parentanchor = bottom|right
+				blockoverride "icon_size" {
+					size = { 30 30 }
+				}
+			}
+		}
+	}
+
+	type character_portrait_small_with_rank = character_portrait_base_head {
+		size = { 40 40 }
+		blockoverride "portrait_size" {
+			size = { 40 44 }
+		}
+		blockoverride "icon_size" {
+			size = { 22 22 }
+		}
+
+		blockoverride "rank_icon" {}
+	}
+
+
+	
+	type character_portrait_small2 = character_portrait_base_head {
+		size = { 60 60 }
+		blockoverride "portrait_size" {
+			size = { 60 66 }
+		}
+		blockoverride "icon_size" {
+			size = { 24 24 }
+		}
+	}
+
+	type character_portrait_small = character_portrait_base_head {
+		size = { 40 40 }
+		blockoverride "portrait_size" {
+			size = { 40 44 }
+		}
+		blockoverride "icon_size" {
+			size = { 18 18 }
+		}
+		blockoverride "frame_texture_generated" {
+			texture = "gfx/interface/portraits/portrait_frame_head_small.dds"
+		}
+		blockoverride "portrait_frame" {
+			icon = {
+				visible = "[Not(Character.IsHistorical)]"
+				block "frame_texture_generated" {
+					texture = "gfx/interface/portraits/portrait_frame_head.dds"
+				}
+				size = { 100% 100% }
+
+				using = generic_highlight
+				using = naval_commander_color
+			}
+
+			icon = {
+				visible = "[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+				block "frame_texture_historical" {
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_info_link.dds"
+				}
+				size = { 100% 100% }
+
+				using = generic_highlight
+				using = naval_commander_color
+			}
+		}
+
+		blockoverride  "laurel" {
+			icon = {
+					visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_laurel_info_link.dds"
+					size = { 100% 100% }
+					parentanchor = bottom|hcenter
+			}
+
+			icon = {
+					visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_laurel_no_info_link.dds"
+					size = { 100% 100% }
+					parentanchor = bottom|hcenter
+			}
+		}	
+
+		blockoverride "rank_icon" {}
+	}
+
+	type character_portrait_mini = character_portrait_base_head {
+		size = { 30 30 }
+		blockoverride "portrait_size" {
+			size = { 30 33 }
+		}
+		blockoverride "portrait_icons" {} #too small for icons
+		blockoverride "rank_icon" {} #too small for icons, yet for some reason this is not in the same block as the other icons
+
+		blockoverride "frame_texture_generated" {
+			texture = "gfx/interface/portraits/portrait_frame_head_small.dds"
+		}
+		blockoverride "portrait_frame" {
+			icon = {
+				visible = "[Not(Character.IsHistorical)]"
+				block "frame_texture_generated" {
+					texture = "gfx/interface/portraits/portrait_frame_head.dds"
+				}
+				size = { 100% 100% }
+
+				using = generic_highlight
+				using = naval_commander_color
+			}
+
+			icon = {
+				visible = "[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+				block "frame_texture_historical" {
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_info_link.dds"
+				}
+				size = { 100% 100% }
+
+				using = generic_highlight
+				using = naval_commander_color
+			}
+		}
+
+		blockoverride  "laurel" {
+				icon = {
+					visible="[And(Character.IsHistorical, Not(StringIsEmpty(Character.GetHistoricalUrl)))]"
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_laurel_info_link.dds"
+					size = { 100% 100% }
+					parentanchor = bottom|hcenter
+			}
+
+			icon = {
+					visible="[And(Character.IsHistorical, StringIsEmpty(Character.GetHistoricalUrl))]"
+					texture = "gfx/interface/portraits/portrait_frame_head_historical_laurel_no_info_link.dds"
+					size = { 100% 100% }
+					parentanchor = bottom|hcenter
+			}
+
+		blockoverride "rank_icon" {}
+		}
+	}
+
+	### SPECIAL FOR SITUATIONS/EVENTS (these show more of the torso and have their own special frames)
+	type character_portrait_situation_1char = character_portrait_base {
+		size = { 520 600 }
+		blockoverride "portrait_size" {
+			size = { 520 650 }
+		}
+		blockoverride "portrait_texture" {
+			portrait_texture = "[Character.GetPortrait('environment_event_01', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+		}
+	}
+
+	type character_portrait_frankenstein_situation_1char = character_portrait_base {
+		size = { 520 600 }
+		blockoverride "portrait_size" {
+			size = { 520 650 }
+		}
+		blockoverride "portrait_texture" {
+			portrait_texture = "[Character.GetAnimatedPortrait('environment_standard_V1', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+		}
+	}
+
+	type character_portrait_duel_01 = character_portrait_base {
+		size = { 250 390 }
+		blockoverride "portrait_size" {
+			size = { 250 420 }
+		}
+		blockoverride "portrait_texture" {
+			portrait_texture = "[Character.GetAnimatedPortrait('environment_event_01', 'camera_duel_01', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+		}
+	}
+
+	type character_portrait_duel_02 = character_portrait_base {
+		size = { 250 390 }
+		blockoverride "portrait_size" {
+			size = { 250 420 }
+		}
+		blockoverride "portrait_texture" {
+			portrait_texture = "[Character.GetAnimatedPortrait('environment_event_01', 'camera_duel_02', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+		}
+	}
+	
+	### SPECIAL FOR COMMANDERS IN BATTLES/FRONTS (these show more of the torso and have no frame and also they have different lightning/vs poses)
+	type character_portrait_front_vs_right = character_portrait_base_no_mask {
+		size = { 270 360 }
+		blockoverride "portrait_size" {
+			size = { 350 390 }
+		}
+		blockoverride "portrait_texture" {
+			portrait_texture = "[Character.GetAnimatedPortrait('environment_front_generals_right', 'camera_event_right', 'commander_vs_right', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+		}
+		blockoverride "portrait_icons" {}
+		blockoverride "show_hat" {}
+
+		blockoverride "portrait_button" {
+			button = {
+				size = { 100% 100% }
+
+				block "portrait_button_onclick" {
+					onclick = "[InformationPanelBar.OpenCommanderPanel(Character.AccessSelf)]"
+				}
+
+				block "portrait_button_onrightclick" {
+					onrightclick = "[RightClickMenuManager.ShowForCharacter(Character.AccessSelf)]"
+				}
+			}
+		}
+
+		blockoverride "portrait_onhover_highlight" {}
+	}
+	type character_portrait_front_vs_left = character_portrait_base_no_mask {
+		size = { 270 360 }
+		blockoverride "portrait_size" {
+			size = { 350 390 }
+		}
+		blockoverride "portrait_texture" {
+			portrait_texture = "[Character.GetAnimatedPortrait('environment_front_generals_left', 'camera_event_left', 'commander_vs_left', GetPortraitRenderSize(PdxGuiWidget.Self))]"
+		}
+		blockoverride "portrait_icons" {}
+		blockoverride "show_hat" {}
+
+		blockoverride "portrait_button" {
+			button = {
+				size = { 100% 100% }
+
+				block "portrait_button_onclick" {
+					onclick = "[InformationPanelBar.OpenCommanderPanel(Character.AccessSelf)]"
+				}
+
+				block "portrait_button_onrightclick" {
+					onrightclick = "[RightClickMenuManager.ShowForCharacter(Character.AccessSelf)]"
+				}
+			}
+		}
+
+		blockoverride "portrait_onhover_highlight" {}
+	}
+	
+	### POP PORTRAITS
+	type pop_portrait_base = character_portrait_base {
+		size = { 80 100 }
+		
+		blockoverride "portrait_texture"
+		{
+			block "pop_portrait_texture" {
+				# Always use Cached portraits by default (better for performance and they can't be animated)
+				portrait_texture = "[Pop.GetTypedPortrait('environment_standard', 'camera_head', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'random_adult', '(int32)-1')]"
+				
+				# GetTypedPortrait will return the specified type, and age.
+				#  Valid types are 'male', 'female', 'boy', 'girl', 'random_adult', 'random_child', 'scripted'. Scripted uses the same scripted weights as GetPortrait (i.e. based on laws etc)
+				#  Valid values for age are 0-100 (years), or -1 to use the scripted age.
+				#  Valid values for pose are defined in common/genes/99_genes_special.txt. Empty will use the default pose.
+				# portrait_texture = "[Pop.GetTypedPortrait('environment_standard', 'camera_head', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'random_adult', '(int32)30')]"
+			}
+		}
+		blockoverride "portrait_icons" {}
+		blockoverride "tooltip" {}
+		blockoverride "show_hat" {}
+
+		# Override click/hover effects since we don't set a character context for these
+		blockoverride "portrait_button" {
+			block "portrait_button" {
+				button = {
+					size = { 100% 100% }
+				}
+			}
+		}
+	}
+	
+	### BIG (animated)
+	type pop_portrait_big = pop_portrait_base {
+		size = { 250 400 }
+		blockoverride "portrait_size" {
+			size = { 430 430 }
+		}
+		blockoverride "pop_portrait_texture" {
+			block "pop_portrait_texture" {
+				portrait_texture = "[Pop.GetAnimatedTypedPortrait('environment_standard', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'random_adult', '(int32)-1')]"
+			}
+		}
+	}
+	
+	type pop_portrait_big_female = pop_portrait_big {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetAnimatedTypedPortrait('pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'female', '(int32)-1')]"
+		}
+
+	}
+	
+	type pop_portrait_big_male = pop_portrait_big {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetAnimatedTypedPortrait('pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'male', '(int32)-1')]"
+			# Make males slightly taller
+			size = { 440 440 }
+		}
+		
+		blockoverride "portrait_mask" {
+			mask = "gfx/interface/portraits/portrait_mask_small_fade_bottom.dds"
+		}
+	}
+
+	### MEDIUM (animated)
+	type pop_portrait_medium = pop_portrait_base {
+		size = { 140 205 }
+		blockoverride "portrait_size" {
+			size = { 225 225 }
+		}
+		blockoverride "pop_portrait_texture" {
+			block "pop_portrait_texture" {
+				portrait_texture = "[Pop.GetAnimatedTypedPortrait('environment_standard', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'random_adult', '(int32)-1')]"
+			}
+		}
+	}
+	
+	type pop_portrait_medium_female = pop_portrait_medium {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetAnimatedTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'female', '(int32)-1')]"
+		}
+	}
+	
+	type pop_portrait_medium_male = pop_portrait_medium {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetAnimatedTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'male', '(int32)-1')]"
+			
+			# Make males slightly taller
+			size = { 230 230 }
+		}
+		block "portrait_mask" {}
+	}
+
+	### SMALL (animated)
+
+	type pop_portrait_small = pop_portrait_base {
+		size = { 85 95 }
+
+		blockoverride "pop_portrait_texture" {
+			block "pop_portrait_texture" {
+				portrait_texture = "[Pop.GetAnimatedTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'random_adult', '(int32)-1')]"
+			}
+		}
+	}
+
+	type pop_portrait_small_female = pop_portrait_small {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetAnimatedTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'female', '(int32)-1')]"
+		}
+	}
+
+	type pop_portrait_small_male = pop_portrait_small {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetAnimatedTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'male', '(int32)-1')]"
+			
+			# Make males slightly taller
+			size = { 82 102 }
+		}
+	}
+
+
+	### SIMPLE (non-animated and cached, for long lists etc)
+	type pop_portrait_simple = pop_portrait_base {
+		size = { 85 95 }
+
+		blockoverride "pop_portrait_texture" {
+			block "pop_portrait_texture" {
+				portrait_texture = "[Pop.GetTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'random_adult', '(int32)-1')]"
+			}
+		}
+	}
+
+	type pop_portrait_simple_female = pop_portrait_simple {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'female', '(int32)-1')]"
+		}
+	}
+
+	type pop_portrait_simple_male = pop_portrait_simple {
+		blockoverride "pop_portrait_texture" {
+			portrait_texture = "[Pop.GetTypedPortrait('small_pop_environment', 'camera_body', 'idle', GetPortraitRenderSize(PdxGuiWidget.Self), 'male', '(int32)-1')]"
+			
+			# Make males slightly taller
+			size = { 82 102 }
+		}
+	}
+}
+
+template portrait_base
+{
+	pop_out = no
+	block "grayscale" {
+		grayscale = no # "[Not(Character.IsAlive)]"
+	}
+
+	gfxtype = portraitbuttongfx
+	shaderfile = "gfx/FX/jomini/gui_portrait.shader"
+
+	intersectionmask = no
+
+	background_texture = "gfx/portraits/portrait_transparent.dds"
+	texture = "gfx/portraits/portrait_transparent.dds"
+
+	block "portrait_transformation"
+	{
+		portrait_scale = { 1.0 1.0 }
+		portrait_offset = { 0.0 0.0 }
+	}
+}
+
+# Blue overlay for Admirals
+template naval_commander_color
+{
+	modify_texture = {
+		texture = "gfx/interface/selections/generic_highlight_X.dds"
+		spriteType = Corneredstretched
+		spriteborder = { 0 0 }
+		blend_mode = overlay
+		block "naval_color_visible" {
+			visible = "[Character.IsAdmiral]"
+		}
+	}
+}
+
+template visible_if_either_current_or_next_order
+{
+	visible = "[Or(Or(ObjectsEqual(Character.GetOrderType.Self, CommanderOrderType.Self), ObjectsEqual(Character.GetNextOrderType.Self, CommanderOrderType.Self)), Not(StringIsEmpty(GetDesc( Character.SelectOrder( CommanderOrderType.Self )))))]"
+}
diff --git a/gfx/exe_icon.bmp b/gfx/exe_icon.bmp
index 477b5f27e6b3b116ca9294c1d57abee89cda1a00..4ed7b29fb1b1936707bf539b60606fc490f969c9
GIT binary patch
literal 9288
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
bZ`Ie=7yEBu`gen7-fZGh<{x!`A)$W&Jn<Hb

diff --git a/gfx/interface/error_manul.dds b/gfx/interface/error_manul.dds
new file mode 100644
index 0000000000000000000000000000000000000000..cc68cb1b153d3332151b07a1750966bbd58380ce
GIT binary patch
literal 133
zc$^KzOAf*y5CG6U33uQEmd=z<>1~(+ghZtg?84LQ+q^5kN9!+D=RC)u^}Ws8qm1Q$
z{m{bwsmGaFUm!(qNsSuOy2Az92ymwryyfhTchN_i7%dW#1IUJuO8~$Sp%kQmm>JNg
Q;8&Jnv~O0s-Hegq2Q~U9O#lD@

